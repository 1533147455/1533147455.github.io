#### HTTP/HTTPS协议

`HTTPS`=`HTTP`+`SSL`

①  对称加密：客户端和服务端用同个密钥对数据进行加密或解密
缺点：商量密钥时可能会被窃听

②  非对称加密：服务端拥有一把公钥和一把私钥
第一步：客户端向服务端索要公钥，服务端发送公钥给客户端
第二步：客户端使用公钥进行加密，服务端用私钥进行解密
缺点：服务端无法向客户端发送数据

③  `HTTPS`采用对称加密+非对称加密的机制，商量密钥阶段用非对称加密，通信阶段用对称加密
第一步：客户端向服务端索要公钥，服务端发送公钥给客户端
第二步：客户端定义一个随机数，用公钥加密后发送给服务端，服务端使用私钥解密得到随机数
第三步：随机数作为对称加密的密钥使用
缺点：假如客户端第一次索要公钥的请求就被黑客拦截，此后黑客就能一直当中间人

解决中间人问题的办法是数字证书机构，经过该机构认证过的公钥才是可信赖的公钥，让客户端能够确定公钥是可信赖的服务器发送过来的

<img :src="$withBase('/网络协议/image-20201106153032276.png')" alt="图片加载失败">

#### 三次握手和四次挥手

三次握手的过程：
第一次握手：`A`向`B`发起建立连接请求：`A`——>`B`
第二次握手：`B`收到`A`的请求，并且向`A`发送确认信号：`A`<——`B`
第三次握手：`A`收到`B`的确认信号，并向`B`发送确认信号：`A`——>`B`
目的是为了确认双方的收发能力都正常

四次挥手的过程：
第一次挥手：`A`向`B`发起断开连接请求，表示`A`没有数据要发送了：`A`——>`B`
第二次挥手：`B`收到`A`的请求，并且向`A`发送确认信号：`A`<——`B`
第三次挥手：`B`向`A`发送信号，请求断开连接，表示`B`没有数据要发送了：`A`<——`B`
第四次挥手：`A`向`B`发送确认信号，同意断开：`A`——>`B`
第二次挥手和第三次挥手不能合成一次的原因：此时`A`虽然不再发送数据了，但是还可以接收数据，`B`可能还有数据要发送给`A`
挥手次数比握手多一次的原因：在握手过程，通信只需要处理连接。而挥手过程，通信需要处理数据`+`连接